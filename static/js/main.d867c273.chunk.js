(this.webpackJsonpmusic_lyrics=this.webpackJsonpmusic_lyrics||[]).push([[0],{103:function(e,t,a){e.exports=a(214)},108:function(e,t,a){},109:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(23),o=a.n(l),r=(a(108),a(109),a(110),a(22)),i=a(17),s=a(4);a(111),a(112),a(59);var u=a(62),m=a.n(u),f=(a(134),a(135),a(63)),g=a.n(f);function d(e){var t=Object(n.useState)({label:"Select Category",value:""}),a=Object(s.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)({label:"Select Difficulty",value:"medium"}),i=Object(s.a)(r,2),u=i[0],m=i[1],f=e.error,d=e.categoryList,h=e.handleClick,b=Array.from(d,(function(e,t){return{label:e.name,value:e.id}})),E=["Easy","Medium","Hard"].map((function(e){return{label:e,value:e.toLowerCase()}}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"box"},c.a.createElement("h1",null,"Welcome to Trivia Royale!"),f?c.a.createElement("li",null,f.message):c.a.createElement(g.a,{className:"selectBox",onChange:function(e){o(e)},options:b,placeholder:l.label}),f?c.a.createElement("li",null,f.message):c.a.createElement(g.a,{className:"selectBox",onChange:function(e){m(e)},options:E,placeholder:u.label}),c.a.createElement("button",{onClick:function(){return h(l.value,u.value)}},"Okay!")))}var h=a(102);function b(e){var t=Object(i.g)().id,a=new h.Html5Entities,l=Object(n.useState)([]),o=Object(s.a)(l,2),r=o[0],u=o[1],m=Object(n.useState)(),f=Object(s.a)(m,2),g=f[0],d=f[1],b=Object(n.useState)(!1),E=Object(s.a)(b,2),p=E[0],v=E[1],O=JSON.parse(localStorage.getItem("questionList")),S=O[t-1],y=a.decode(S.question),j=Object(i.f)(),N=JSON.parse(localStorage.getItem("health")),I=localStorage.getItem("score");function k(){j.push("/questions/".concat(Number(t)+1))}if(Object(n.useEffect)((function(){v(!0);var e=S.incorrect_answers;e.push(S.correct_answer),e=function(e){var t,a,n=e.length;for(;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}(e),u(e),v(!1)}),[t]),console.log(O),p)return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"box"},c.a.createElement("h1",null,"Loading...")));var x=N.map((function(e){return c.a.createElement("h1",{style:{display:"inline"}},e)})),C=r.map((function(e,t){return c.a.createElement("div",{className:"radio",onClick:function(){d(e)}},c.a.createElement("input",{type:"radio",key:t,checked:g===e,value:e,name:"question".concat(t)}),c.a.createElement("label",{htmlFor:"question".concat(t)},a.decode(e)))}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"box"},c.a.createElement("p",null,t,"/10"),x,c.a.createElement("h1",null,y),c.a.createElement("form",null,C,c.a.createElement("button",{onClick:function(e){if(e.preventDefault(),g===S.correct_answer){var a=I;a++,localStorage.setItem("score",a)}else{if(1===N.length){var n=N.slice(1);return localStorage.setItem("health",JSON.stringify(n)),void j.push("/game/over")}var c=N.slice(1);localStorage.setItem("health",JSON.stringify(c))}Number(t)===O.length?j.push("/game/over"):setTimeout(k,50)}},"Submit")),c.a.createElement("br",null),c.a.createElement("a",{onClick:e.playAgain},"Play again")))}function E(){var e=Object(n.useState)(localStorage.getItem("health")||""),t=Object(s.a)(e,2),a=t[0],l=(t[1],Object(n.useState)([])),o=Object(s.a)(l,2),r=o[0],u=o[1],f=Object(n.useState)(localStorage.getItem("questionList")||""),g=Object(s.a)(f,2),h=(g[0],g[1],Object(n.useState)()),E=Object(s.a)(h,2),p=E[0],v=E[1],O=Object(n.useState)(),S=Object(s.a)(O,2),y=S[0],j=S[1],N=Object(n.useState)(!1),I=Object(s.a)(N,2),k=I[0],x=I[1],C=Object(n.useState)(""),w=Object(s.a)(C,2),q=(w[0],w[1]),J=Object(i.f)();function L(e){e.preventDefault(),localStorage.clear(),v(void 0),J.push("/")}function L(){x(!0),localStorage.clear(),J.push("/"),window.location.reload()}function _(){m.a.get("https://opentdb.com/api.php?amount=10&category=".concat(p,"&difficulty=").concat(y)).then((function(e){localStorage.setItem("questionList",JSON.stringify(e.data.results)),localStorage.setItem("health",JSON.stringify(["\u2764\ufe0f","\u2764\ufe0f","\u2764\ufe0f"])),localStorage.setItem("score",0),x(!1),J.push("/questions/1")})).catch((function(e){q(e.message),x(!1)}))}return Object(n.useEffect)((function(){void 0===p?m.a.get("https://opentdb.com/api_category.php").then((function(e){u(e.data.trivia_categories),x(!1)})).catch((function(e){q(e.message),x(!1)})):(x(!0),setTimeout(_,1e3))}),[p]),k?(document.body.style.cursor="wait",c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"box"},c.a.createElement("h1",null,"Loading...")))):(document.body.style.cursor="default",c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{exact:!0,path:"/"},c.a.createElement(d,{handleClick:function(e,t){v(e),j(t)},categoryList:r})),c.a.createElement(i.a,{path:"/game/over"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"box"},c.a.createElement("h1",null,a.length<1?"YOU DIED":"GAME OVER"),c.a.createElement("h2",null,"You scored: ",localStorage.getItem("score")," points!"),c.a.createElement("button",{onClick:L},"Play again")))),c.a.createElement(i.a,{path:"/questions/:id",children:c.a.createElement(b,{playAgain:L})})))}var p=function(){return c.a.createElement(r.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/"},c.a.createElement(E,null)),c.a.createElement(i.a,{path:"/"},c.a.createElement(E,null))))};o.a.render(c.a.createElement(p,null),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.d867c273.chunk.js.map